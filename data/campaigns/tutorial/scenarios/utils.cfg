#textdomain wesnoth-tutorial
#define LABEL STRING POSITION
    [set_variable]
        name=label_string
        value={STRING}
    [/set_variable]
    [label]
        x,y={POSITION}
        text=$label_string
    [/label]
    {CLEAR_VARIABLE label_string}
#enddef
#define UNLABEL POSITION
    [label]
        x,y={POSITION}
        text=""	# wmllint: ignore
    [/label]
#enddef

#define PRINT STRING
    [set_variable]
        name=print_string
        value={STRING}
    [/set_variable]
    [print]
        text=$print_string
        size=18
        duration=10000
        red,green,blue=255,255,255
    [/print]
    {CLEAR_VARIABLE print_string}
#enddef

#define CLEAR_PRINT
    [print]
        text=""	# wmllint: ignore
    [/print]
#enddef

#define MOVE ID_STRING START_X START_Y END_X END_Y
    [if]
        [have_unit]
            id={ID_STRING}
        [/have_unit]
        [not]
            [have_unit]
                side=1
                x,y={START_X},{START_Y}
            [/have_unit]
            [or]
                [have_unit]
                    x,y={END_X},{END_Y}
                [/have_unit]
            [/or]
        [/not]
        [then]
            [scroll_to]
                x,y={START_X},{START_Y}
            [/scroll_to]
            [store_unit]
                [filter]
                    id={ID_STRING}
                [/filter]
                variable=MOVE_tmp
                kill=yes
            [/store_unit]
            [move_unit_fake]
                type=$MOVE_tmp.type
                side=$MOVE_tmp.side
                x={START_X},{END_X}
                y={START_Y},{END_Y}
            [/move_unit_fake]
            # Drain moves
            {VARIABLE MOVE_tmp.moves 0}
            {VARIABLE MOVE_tmp.x {END_X}}
            {VARIABLE MOVE_tmp.y {END_Y}}
            [unstore_unit]
                variable=MOVE_tmp
            [/unstore_unit]
            {CLEAR_VARIABLE MOVE_tmp}
        [/then]
    [/if]
#enddef

#define NUMEQ VAR VALUE
    [variable]
        name={VAR}
        numerical_equals={VALUE}
    [/variable]
#enddef

#define BOOLEQ VAR VALUE
    [variable]
        name={VAR}
        boolean_equals={VALUE}
    [/variable]
#enddef

#define GENDER MALE_WML FEMALE_WML
    [if]
        [variable]
            name=gender
            equals=male
        [/variable]
        [then]
            {MALE_WML}
        [/then]
        [else]
            {FEMALE_WML}
        [/else]
    [/if]
#enddef

#wmllint: local spelling Galdrad

#define TEACHER MESSAGE_TEXT
    [message]
        speaker=Galdrad
        message={MESSAGE_TEXT}
    [/message]
#enddef

#define STUDENT MESSAGE_TEXT
    [message]
        speaker=student
        message={MESSAGE_TEXT}
    [/message]
#enddef

#define NARRATOR CAPTION_TEXT MESSAGE_TEXT
    [message]
        speaker=narrator
        caption={CAPTION_TEXT}
        message={MESSAGE_TEXT}
        image=wesnoth-icon.png
    [/message]
#enddef

#define UNDO_REMINDER
    [message]
        speaker=narrator
        caption= _"Undo"
        message= _"Don’t forget, you can press <b>u</b> to undo most things; useful for correcting mistakes."
        image=wesnoth-icon.png
    [/message]
    [allow_undo][/allow_undo]
#enddef

#define TALK_ABOUT ID_STRING MESSAGE_TEXT
    [scroll_to_unit]
        id={ID_STRING}
    [/scroll_to_unit]

    [message]
        speaker=Galdrad
        scroll=no
        message={MESSAGE_TEXT}
    [/message]
#enddef

#define TALK_NO_MOVE MESSAGE_TEXT
    [message]
        speaker=Galdrad
        scroll=no
        message={MESSAGE_TEXT}
    [/message]
#enddef

#define TALK_ABOUT_LOC POSITION MESSAGE_TEXT
    [scroll_to]
        x,y={POSITION}
    [/scroll_to]

    [message]
        speaker=Galdrad
        scroll=no
        message={MESSAGE_TEXT}
    [/message]
#enddef

#define EXPLAIN_STRONG_INTELLIGENT ID_STRING
    [if]
        [variable]
            name=strongint_explained
            not_equals=done
        [/variable]
        [then]
            #po: This string used as follows: "<unit name>', your new recruit, has two traits...'"
            # Could be male or female unit? If so, might need gender-specific translations?
            {TEACHER ({ID_STRING} + _", your new recruit, has two traits: <i>strong</i> and <i>intelligent</i>. ‘Strong’ means a unit does more damage, and ‘intelligent’ means it needs less experience to advance a level.")}
            {VARIABLE strongint_explained done}
        [/then]
    [/if]
#enddef

#define EXPLAIN_QUICK_RESILIENT ID_STRING
    [if]
        [variable]
            name=quickres_explained
            not_equals=done
        [/variable]
        [then]
            #po: This string used as follows: "<unit name>' has two traits: <i>quick</i> and ...'"
            # Could be male or female unit? If so, might need gender-specific translations?
            {TEACHER ({ID_STRING} + _" has two traits: <i>quick</i> and <i>resilient</i>. ‘Quick’ means a unit can move one tile further each turn, and ‘resilient’ means it has more hitpoints.")}
            {VARIABLE quickres_explained done}
        [/then]
    [/if]
#enddef
